{"version":3,"file":"commonHelpers.js","sources":["../src/modal.js"],"sourcesContent":["import axios from \"axios\";\nconst buttonClick = document.querySelector(\".btn-connect\");\nconst modalWindow = document.querySelector(\".mdl-box\");\nconst contentForm = document.querySelector(\".mdl-content\")\nconst butClose = document.querySelector(\".close\");\nconst inputUserName = document.querySelector(\".username\");\nconst butSubmit = document.querySelector(\".but-submit\");\nconst inputUserPhone = document.querySelector(\".phone\");\nconst formUser = document.querySelector(\".forma-for-connect\");\nconst labelText = document.querySelector(\"label-inpt\");\nconst token = \"6077606622:AAG6g12itzLvnsQfazmk9-oBfkHb1kflQYk\";\nlet idCzat = -1002080915692;\n\n\nformUser.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    checkName();\n    checkPhone();\n\n    async function sendMessage(message) {\n        await axios.post(`https://api.telegram.org/bot${token}/sendMessage`, {\n                chat_id: idCzat,\n                text: message\n            })\n        .then(response => { \n            succes();\n            response.status;\n        })\n        .catch(error => {\n            errorr();\n            console.error(\"Error in sending sms:\", error)\n        });\n    }\n        \n        const formData = new FormData(document.querySelector('.forma-for-connect'));\n        const userName = formData.get(\"username\");\n        const userPhone = formData.get(\"phone\");\n        const education = formData.get(\"education\");\n        const comment = formData.get(\"comment\");\n        \n        const message = `\n            Нова заявка:\n    1) Им'я: ${userName};\n    2) Телефон: ${userPhone};\n    3) Формат навчання: ${education};\n    4) Коментар: ${comment.split(\"\").length > 0 ? comment : \"Without comments\"};\n        `;\n        sendMessage(message);\n});\n\n\n//check input name//\n\nasync function checkName() {\n\n    if(inputUserName.value.trim() === \"\") {\n        inputUserName.classList.add(\"red\");\n    }\n    else {\n        inputUserName.classList.remove(\"red\");\n    }\n}\n\n// //check input phone//\n\nasync function checkPhone() {\n\n    if(inputUserPhone.value.trim() === \"\" || !(inputUserPhone.value.trim().includes(\"+\")) || inputUserPhone.value.trim().split('').length < 12) {\n        inputUserPhone.classList.add(\"red\");\n    }\n    else {\n        inputUserPhone.classList.remove(\"red\");\n    }\n}\n\n//succes feedback//\n\nasync function succes() {\n        let str = `\n                <h2 class=\"title-feedback\">See you soon!</h2>\n                <p class=\"text-feedback\">Ваші дані були успішно відправлені. Будь ласка, очікуйте: я зв'яжуся з Вами якнайшвидше для обговорення деталей.</p>`;\n\n        contentForm.innerHTML = str;\n        contentForm.style.flexDirection = \"column\";\n        contentForm.style.gap = \"24px\";\n}\n\n//succes error//\n\nasync function errorr() {\n        let str = `\n                <h2 class=\"title-feedback\">Error</h2>\n                <p class=\"text-feedback\">На жаль, на сайті сталася помилка і Ваші дані не<br>були відправлені. Спробуйте, будь ласка, пізніше.</p>`;\n\n        contentForm.innerHTML = str;\n        contentForm.style.flexDirection = \"column\";\n        contentForm.style.gap = \"24px\";\n}\n\nbuttonClick.addEventListener(\"click\", function () {\n    modalWindow.style.display = \"block\";\n});\n\nbutClose.addEventListener(\"click\", function () {\n    modalWindow.style.display = \"none\";\n});\n\ninputUserName.addEventListener(\"input\", (e) => {\n    checkName();\n});\n\ninputUserPhone.addEventListener(\"input\", (e) => {\n    checkPhone();\n});\n\nbutSubmit.addEventListener(\"click\", (e) => {\n    checkName();\n    checkPhone();\n})\n"],"names":["buttonClick","modalWindow","contentForm","butClose","inputUserName","butSubmit","inputUserPhone","formUser","token","idCzat","e","checkName","checkPhone","sendMessage","message","axios","response","succes","error","errorr","formData","userName","userPhone","education","comment","str"],"mappings":"svBACA,MAAMA,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAW,SAAS,cAAc,QAAQ,EAC1CC,EAAgB,SAAS,cAAc,WAAW,EAClDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAiB,SAAS,cAAc,QAAQ,EAChDC,EAAW,SAAS,cAAc,oBAAoB,EAC1C,SAAS,cAAc,YAAY,EACrD,MAAMC,EAAQ,iDACd,IAAIC,EAAS,cAGbF,EAAS,iBAAiB,SAAU,MAAOG,GAAM,CAC7CA,EAAE,eAAc,EAEhBC,IACAC,IAEA,eAAeC,EAAYC,EAAS,CAChC,MAAMC,EAAM,KAAK,+BAA+BP,CAAK,eAAgB,CAC7D,QAASC,EACT,KAAMK,CACtB,CAAa,EACJ,KAAKE,GAAY,CACdC,IACAD,EAAS,MACrB,CAAS,EACA,MAAME,GAAS,CACZC,IACA,QAAQ,MAAM,wBAAyBD,CAAK,CACxD,CAAS,CACJ,CAEG,MAAME,EAAW,IAAI,SAAS,SAAS,cAAc,oBAAoB,CAAC,EACpEC,EAAWD,EAAS,IAAI,UAAU,EAClCE,EAAYF,EAAS,IAAI,OAAO,EAChCG,EAAYH,EAAS,IAAI,WAAW,EACpCI,EAAUJ,EAAS,IAAI,SAAS,EAEhCN,EAAU;AAAA;AAAA,eAETO,CAAQ;AAAA,kBACLC,CAAS;AAAA,0BACDC,CAAS;AAAA,mBAChBC,EAAQ,MAAM,EAAE,EAAE,OAAS,EAAIA,EAAU,kBAAkB;AAAA,UAEtEX,EAAYC,CAAO,CAC3B,CAAC,EAKD,eAAeH,GAAY,CAEpBP,EAAc,MAAM,KAAI,IAAO,GAC9BA,EAAc,UAAU,IAAI,KAAK,EAGjCA,EAAc,UAAU,OAAO,KAAK,CAE5C,CAIA,eAAeQ,GAAa,CAErBN,EAAe,MAAM,KAAM,IAAK,IAAM,CAAEA,EAAe,MAAM,OAAO,SAAS,GAAG,GAAMA,EAAe,MAAM,KAAI,EAAG,MAAM,EAAE,EAAE,OAAS,GACpIA,EAAe,UAAU,IAAI,KAAK,EAGlCA,EAAe,UAAU,OAAO,KAAK,CAE7C,CAIA,eAAeW,GAAS,CAChB,IAAIQ,EAAM;AAAA;AAAA,+JAIVvB,EAAY,UAAYuB,EACxBvB,EAAY,MAAM,cAAgB,SAClCA,EAAY,MAAM,IAAM,MAChC,CAIA,eAAeiB,GAAS,CAChB,IAAIM,EAAM;AAAA;AAAA,oJAIVvB,EAAY,UAAYuB,EACxBvB,EAAY,MAAM,cAAgB,SAClCA,EAAY,MAAM,IAAM,MAChC,CAEAF,EAAY,iBAAiB,QAAS,UAAY,CAC9CC,EAAY,MAAM,QAAU,OAChC,CAAC,EAEDE,EAAS,iBAAiB,QAAS,UAAY,CAC3CF,EAAY,MAAM,QAAU,MAChC,CAAC,EAEDG,EAAc,iBAAiB,QAAUM,GAAM,CAC3CC,GACJ,CAAC,EAEDL,EAAe,iBAAiB,QAAUI,GAAM,CAC5CE,GACJ,CAAC,EAEDP,EAAU,iBAAiB,QAAUK,GAAM,CACvCC,IACAC,GACJ,CAAC"}